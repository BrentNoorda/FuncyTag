<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Funcytag : HTML generator in pure javascript or python, primarily useful for programmaticly creating snippets of HTML to be embedded in a page at server-side or client-side. FuncyTag makes creating HTML look like function calls, so it looks familiar to a functional programmer (nesting, parameters, etc...). Optimized only for easy reading/writing by humans. Not quite an html template language, but kinda. Available in javascript and python." />
    <meta name="viewport" content="initial-scale=1,width=device-width"/>
    <meta name="format-detection" content="telephone=no"/>

    <link rel="stylesheet" type="text/css" media="screen" href="gh-pages/stylesheets/stylesheet.css">

    <title>FuncyTag + FuncyStyle = FuncyTown</title>
    <script type="text/javascript" src="gh-pages/javascripts/adjust_iframes.js"></script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-1754630-10']);
        _gaq.push(['_trackPageview']);
        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <style media="screen" type="text/css">
     h1, h2, h3, h4, h5, p {
       line-height:1.25;
     }
     ul {
        margin-bottom: 0;
     }
  </style>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/BrentNoorda/FuncyTag">View on GitHub</a>

          <h1 id="project_title">FuncyTag &amp; FuncyStyle<br/>(aka &#8220;FuncyTown&#8221;)</h1>
          <h2 id="project_tagline">Generate HTML, JS, &amp; CSS from single-source-file nested Javascript functions.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/BrentNoorda/FuncyTag/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/BrentNoorda/FuncyTag/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

        <h1>Welcome to FuncyTown</h1>

        <p style="font-style:italic;xmargin-left:2em;xmargin-right:2em;padding:4px;background-color:#e0e0e0;">
            I've been thinking...<br/>To generate one web page or one web component, why must I use (at least) three
            distinct files (HTML, CSS, &amp; JAVASCRIPT) and use (at least) three distinct
            languages (HTML, CSS, &amp; JAVASCRIPT)?
            That's too much context switching for my simple little mind!
        </p>

        <p>
            FuncyTag &amp; FuncyStyle allow all components of a web page (HTML, CSS, and Javascript) to
            be generated from one purely functional Javascript source. HTML and CSS are mapped
            clearly to Javascript, but without losing their flavor.
            The result is easy to read, easy to write, easy to bundle, easy to reuse, and (hopefully) kind of boring.
        </p>

        Contents:
        <ul>
          <li><a href="#vqoverview">The four components of FuncyTown</a>
            <ul>
              <li><a href="#overview-1">1) HTML source code as Function calls</a></li>
              <li><a href="#overview-2">2) Creating Custom &#8220;funcy&#8221; tags</a></li>
              <li><a href="#overview-3">3) Inline event handlers</a></li>
              <li><a href="#overview-4">4) CSS stylesheets defined as Javascript function</a></li>
            </ul>
          </li>
          <li><a href="#simpleexample">A simple example</a></li>
          <li><a href="#whatnext">What's coming next to FuncyTown?</a></li>
          <li><a href="#theme-song">Theme song</a></li>
          <li><a href="#moreinfo">More information</a></li>
        </ul>

        <h1><a name="vqoverview"></a>The four components of FuncyTown</h1>

        <p>The <b>four</b> components of FuncyTown (leaving out a lot of details) are:</p>
        <div style="margin-left:1em;">

            <h3><a name="overview-1"></a>1) HTML source code as Function calls (think &#8220;functions instead of tags&#8221; or &#8220;rounded brackets, not angle brackets&#8221;)</h3>

            <p>Assuming that you have defined FuncyTags "p" and "span" to represent their
            plain HTML equivalents (more on that later), this sentence:</p>

            <div style="margin-left:4em;" id="first-example"></div>

            <p>could be defined by this FuncyTag-using javascript:</p>
            <iframe src="gh-pages/supporting/quick_1.js.txt" onload="growIframe(this)"></iframe>

            <p>For comparison, here is the generated HTML:</p>
            <iframe src="gh-pages/supporting/quick_1.html.txt" onload="growIframe(this)"></iframe>

            <h3><a name="overview-2"></a>2) Creating Custom &#8220;funcy&#8221; tags</h3>

            <p>New FuncyTags can be defined by inheriting and extending the charateristics of other tags.</p>

            <p>The following creates new tags &#8220;red&#8221; and &#8220;big&#8221; to
            generate <i>exactly</i> the same HTML output as the previous example:</p>
            <iframe src="gh-pages/supporting/quick_2.js.txt" onload="growIframe(this)"></iframe>

            <h3><a name="overview-3"></a>3) Inline event handlers (e.g. onclick, onblur, etcâ€¦ and adding oninit and onterm)</h3>

            <p>Event handlers can be coded directly within the FuncyTag definition. This applies to all
            of the standard DOM element methods beginning with &#8220;on&#8221; (for example, onblur, onclick, onfocus, etc...)
            and adds the extra options &#8220;oninit&#8221; and &#8220;onterm&#8221;.</p>

            <p>In the following example, the &#8220;big&#8221; tag is replaced by a &#8220;fluffy&#8221; tag
            that reacts to &#8220;onclick&#8221;, and also initializes animation at &#8220;oninit&#8221; time.</p>
            <iframe src="gh-pages/supporting/quick_3.js.txt" onload="growIframe(this)"></iframe>

            <p>resulting in the following:</p>
            <div style="position:relative;height:1.5em;margin-left:4em;margin-bottom:1.5em;">
              <div id="fluffy-demo" style="position:absolute;bottom:0;left:0;">

              </div>
            </div>

            <h3><a name="overview-4"></a>4) CSS stylesheets defined as Javascript function (i.e. &#8220;FuncyStyles&#8221;).</h3>

            <p>The previous examples embedded the CSS information within the attributes of a
            FuncyTag. For CSS information shared across multiple elements it is much more common
            to use stylesheets. FuncyStyle allows these stylesheets to be defined directly in
            Javascript, so stylesheets fit right in with the other JavaScript and and FuncyTag code.</p>

            <p>For example, the old &#8220;peeps&#8221; line could be generated with this source code
            that uses FuncyStyle:</p>
            <iframe src="gh-pages/supporting/quick_4.js.txt" onload="growIframe(this)"></iframe>

            <p>resulting in the old familiar, colorful statement:</p>
            <div style="margin-left:4em;" id="funcystyle-example"></div>

            <p>because the &#8220;funcyStyle&#8221; call generated and injected this CSS stylesheet:</p>
            <iframe src="gh-pages/supporting/quick_4.css.txt" onload="growIframe(this)"></iframe>

            <p>and the &#8220;p&#8221;, &#8220;span&#8221;, and &#8220;i&#8221; FuncyTag methods generated this HTML:</p>
            <iframe src="gh-pages/supporting/quick_4.html.txt" onload="growIframe(this)"></iframe>


            <p style="font-style:italic;">Disclaimer: FuncyStyle is in a state of flux. Originally it was more
            SASS-like, then I thought &#8220;why not just let people use LESS directly, since it's already JS&#8221;
            but then I realized LESS is easy enough to reproduce so it works better with FuncyStyle, and then I
            thought a little bit of SASSiness I liked should be added, and now I'm not sure what to think. So the
            current documentation and samples really peter out for FuncyStyle because I'm far from done with those.</p>

        </div>


        <h1><a name="simpleexample"></a>A simple example</h1>

            <p>Suppose you're building a web page that will dynamically create html for a collection
               of animals retrieved via AJAX. You want each animal to be represented by HTML such
               as this:</p>
               <iframe src="gh-pages/supporting/plain_html_animal.html.txt" onload="growIframe(this)"></iframe>

            <p>Just to get a feel for how Javascript &#8220;funcy tags&#8221; map to a HTML tags, here is how to render
               the same output from server-side FuncyTag:</p>
               <iframe src="gh-pages/supporting/funcy_animal_server.js.txt" onload="growIframe(this)"></iframe>

            <p>A traditional client-side Javascript function to create his HTML, based on some parameters that
               probably came from AJAX, would look something like this:</p>
               <iframe src="gh-pages/supporting/typical_javascript_animal.js.txt" onload="growIframe(this)"></iframe>

            <p>A FuncyTag implementation to create the same HTML from within client-side Javascript could look something like this:</p>
               <iframe src="gh-pages/supporting/funcy_animal_client.js.txt" onload="growIframe(this)"></iframe>

        <p><b>So what? Should I be impressed?</b></h3>

            <p>Not really. This is pretty simple stuff, and that's kind of the point: making stuff as simple and boring for
               the javascript writer as possible.<p>

            <p>There's nothing super novel about noticing the similarities between begin/end tags
               and the open/end parenthesis on a function call (i.e. <code>&lt;div&gt;...stuff...&lt;/div&gt;</code> versus <code>div(...stuff...)</code>, or similarities between html tag attributes and properties
               of a javascript object. That's been done a lot of times. <i>Although I think it's kind of keen to represent
               <code>style="font-size:14px"</code> as <code>cssFontSize_px=14</code> because doing so has saved me a lot
               of tedious string concatenation code</i>.</p>

        <h1><a name="whatnext" class="anchor" href="#whatnext"></a>What's coming next to FuncyTown?</h1>
          <ul>
            <li>lots more documentation (tutorials and NOTE THATS) and many more examples (real-time stylesheet changing,
                FuncyStyle mixin and inheritence, my favorite img-tag onerror reoloader)</li>
            <li>get feedback to see if this project is worth pursuing</li>
            <li>compare/contrast with similar projects, determine if it's better to switch to or collaborate with them
                (e.g, <a href="https://github.com/Farof/jhtml">jhtml</a>,
                <a href="https://github.com/edspencer/jaml">jaml</a>,
                <a href="https://github.com/tekrat/eSugar">eSugar</a>,
                <a href="https://github.com/mrak/js2dom">js2dom</a>,
                <a href="https://github.com/reissbaker/html-sourcery">html-sourcery</a>,
                <a href="https://github.com/richjddavis/elephactory">Elephactory</a>,
                <a href="https://github.com/robrobbins/RML">RML</a>,
                <a href="https://github.com/webmat/sugar_dom">sugar_dom</a>,
                and especially the new <a href="http://ojjs.org/">ojjs</a>)</li>
            <li>explore new color() to decide if it's useful or just silly</li>
            <li>determine if the python version should catch up to the javasript version, or be abandoned</li>
            <li>demonstrate some PAJAX pages where entire pages are results of loading funcytag/funcystyle</li>
            <li>figure out how mediaqueries should tie into FuncyStyle</li>
            <li>add server-side tools to the github project, including node package for
                easy nodejs integration -- and then some nodejs examples</li>
            <li>release tool to convert existing HTML+JS+CSS files into single, readable JS file</li>
            <li>compare FuncyTag elements with HTML5 custom elements (including x-tag) and Web Components</li>
            <li>show how to tie into reactive MVC frameworks (e.g. AngularJS)</li>
            <li>provide helper function to populate global space with all standard tags</li>
            <li>in debug mode, validate against improper html use (e.g. including a &lt;p&gt; inside a &lt;b&gt;)</li>
            <li>complete the "big picture" by showing how server can be totally abandoned
                by relying on just a JS-delivery/storage DB (e.g. Firebase)</li>
          </ul>


<h1><a name="theme-song" class="anchor" href="#theme-song"></a>Theme Song</h1>

<iframe width="560" height="315" style="width:560px;height:315px;margin-left:1em;" src="http://www.youtube.com/embed/6EPURKWo2vU" frameborder="0" allowfullscreen></iframe>


<h1><a name="moreinfo" class="anchor" href="#moreinfo"></a>More Information</h1>

  <ul>
    <li><a href="https://github.com/BrentNoorda/FuncyTag/blob/master/README.md">Documentation &amp; Tutorials</a></li>
    <li><a href="examples_js.html">Many many examples</a></li>
    <li><a href="https://github.com/BrentNoorda/FuncyTag">github project</a></li>
  </ul>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">FuncyTag &amp; FuncyStyle maintained by <a href="https://github.com/BrentNoorda">Brent Noorda</a></p>
      </footer>
    </div>

    <script type="text/javascript" src="lib/funcytag_and_style.0.0.4.min.js"></script>
    <script type="text/javascript">

        function first_example() {
            var t, p=funcyTag('p'), span=funcyTag('span');
            t = p( span( {cssColor:'red'}, 'Red peeps' ),
                   'are',
                   span( {cssFontSize_em:1.5},
                         'bigger and',
                         span( {cssColor:'red'}, 'redder' ) ),
                   'than',
                   span( {cssColor:'blue'}, 'blue peeps.' ) );
            return String(t);
        }

        function fluffy_demo() {
            var p, red, blue, fluffy, t;
            p=funcyTag('p'), span=funcyTag('span');
            red = funcyTag( span, { cssColor:'red' } );
            blue = funcyTag( span, { cssColor:'blue' } );
            fluffy = funcyTag( span,
                               { onclick: function(elem,evt) {
                                   alert("you clicked me");
                                 },
                                 oninit: function(elem) {
                                   var scale = 100, direction = 1;
                                   setInterval( function() {
                                     scale += direction;
                                     if ( scale <= 100  ||  150 <= scale ) {
                                        direction *= -1;
                                     }
                                     elem.style.fontSize = scale + '%';
                                   }, 10 );
                                 }
                               } );

            t = p( {cssMargin:0},
                   red( 'Red peeps' ),
                   'are',
                   fluffy( 'fluffier and',
                           red( 'redder' ) ),
                   'than',
                    blue( 'blue peeps.') );
            return String(t);
        }

        function funcystyle_example() {
            var t, p=funcyTag('p'), i=funcyTag('i'), span=funcyTag('span');

            var bigSize = 1.5;
            funcyStyle( '#css-demo', {
                            '.red': { color:'red' },
                            '#blue': { color:'blue' },
                            i: { fontSize_em: bigSize, fontStyle:'normal' }
                        }
                      );

            t = p( { id:'css-demo' },
                   span( {class_:'red'}, 'Red peeps' ),
                   'are',
                   i( 'bigger and',
                      span( {class_:'red'}, 'redder' ) ),
                   'than',
                    span( {id:'blue'}, 'blue peeps.') );
            return String(t);
        }

        window.onload = function() {
            document.getElementById('first-example').innerHTML = first_example();
            document.getElementById('fluffy-demo').innerHTML = fluffy_demo();
            document.getElementById('funcystyle-example').innerHTML = funcystyle_example();
        };
    </script>

  </body>
</html>
