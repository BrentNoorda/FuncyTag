/* FuncyTag version 0.0.4 - see more at https://github.com/BrentNoorda/FuncyTag */
(function(t){function C(a){return a.replace(y,function(b,a,c,e){return"-"+a.toLowerCase()})}function z(a){return null!==a&&"object"===typeof a?"undefined"===typeof a.push?!1:!0:!1}function f(a){this._=a}function k(a){var b,d,c,e=1;3<=arguments.length?(d=arguments[0],c=arguments[1],b=arguments[2],4<=arguments.length&&(e=arguments[3])):(2===arguments.length&&(e=arguments[1]),b=arguments[0],"string"===typeof b||b instanceof String?(4===b.length&&(b="#"+b.substring(1,2)+b.substring(1,2)+b.substring(2,
3)+b.substring(2,3)+b.substring(3,4)+b.substring(3,4)),d=parseInt(b.substring(1,3),16),c=parseInt(b.substring(3,5),16),b=parseInt(b.substring(5,7),16)):(d=(b&16711680)>>16,c=(b&65280)>>8,b&=255));0>d&&(d=0);0>c&&(c=0);0>b&&(b=0);255<d&&(d=255);255<c&&(c=255);255<b&&(b=255);0>e&&(e=0);1<e&&(e=1);return new f({r:d,g:c,b:b,a:e})}function D(){function a(b){var c=!0,e;0===b?c=!1:(e=m.charAt(b-1),"z"===e?(e="a",c=a(b-1)):e=String.fromCharCode(e.charCodeAt(0)+1),m=m.substring(0,b-1)+e);return c}var b=m+
r+"-ft-unq";"z"===r?(a(v)||(v++,m+="a"),r="a"):r=String.fromCharCode(r.charCodeAt(0)+1);return b}function A(){function a(b,a){return function(d){a.call(b,document.getElementById(b.id),d||t.event)}}var b,d,c,e,w;l=null;for(b in n)if(d=document.getElementById(b),null!==d){c=p[b]=n[b];delete n[b];for(e in c)0===e.lastIndexOf("on",0)&&"oninit"!==e&&"onterm"!==e&&(w=c[e],d.addEventListener?d.addEventListener(e.substring(2),a(c,w),!1):d.attachEvent(e,a(c,w)));"oninit"in c&&c.oninit.call(c,d)}if(null===
l)for(b in n){try{console.log("RERENDER because something not ready yet")}catch(E){}l=setTimeout(A,0)}}function x(a,b){var d=p[a];delete p[a];"onterm"in d&&d.onterm.call(d,b)}function B(){var a,b;s=null;for(a in p)b=document.getElementById(a),null===b&&x(a,!1);s=setTimeout(B,1E3)}function q(a,b){var d,c;try{if("_ft_name"in a&&(d=a._ft_name,void 0!==a.default_attributes))for(c in b=b||{},b._superAttr=a.default_attributes,a.default_attributes)c in b||(b[c]=a.default_attributes[c])}catch(e){d=a}c=function(a){var c,
e,f;f="object"===typeof a&&a.constructor===Object&&!("_ft_render_"in a);c={_ft_name:d,_insides:[],_attributes:f?a:{}};if(void 0!==b){c._attributes={_superAttr:b};for(e in b)c._attributes[e]=b[e];if(f)for(e in a)c._attributes[e]=a[e]}for(e=f?1:0;e<arguments.length;e++)f=arguments[e],c._insides.push(f);c._ft_render_=function(b){var a,d,c,e,h,g,f,k;e=!1;h=null;for(c="";0!==u.length;)a=u.shift(),0!==c.length&&(c+="\r\n"),c+=funcyStyle.getText(a);0!==c.length&&funcyStyle.injectStyle(c);k="";a="<"+this._ft_name;
for(d in this._attributes)if(c=d.indexOf("_"),0!==c&&(g=this._attributes[d],null!=g))if(-1===c?f="":(c=d.lastIndexOf("_"),f=d.substring(c+1),d=d.substring(0,c),"pct"===f&&(f="%")),0===d.lastIndexOf("on",0))e=!0;else{if(z(g)){for(c=0;c<g.length;c++)null==g[c]&&(g.splice(c,1),c--);if(0===g.length)continue;g=g.join(f+" ")}g+=f;0===d.lastIndexOf("css",0)?k+=C(d).substring(4)+":"+g+";":(a+=" "+d+'="'+g+'"',"id"===d&&(h=g))}this._attributes._nobrout||(a=b+a);0!==b.length||this._attributes._nobrin||(b="\r\n");
0!==k.length&&(a+=' style="'+k+'"');if(e){null===h&&(h=D(),this._attributes.id=h,a+=' id="'+h+'"');if(h in n)try{console.warning('FuncyTags adding id "'+h+'" when previous "'+h+'" has not initialized yet.')}catch(m){}h in p&&x(h,!1);n[h]=this._attributes;null===l&&(l=setTimeout(A,0))}g="";k=this._attributes._nobrin?"":b+"  ";f=!1;for(d=0;d<this._insides.length;d++)for(h=this._insides[d],z(h)||(h=[h]),c=0;c<h.length;c++)if(e=h[c],null!=e)try{g+=e._ft_render_(f?"":k),f=e._attributes._nobrout}catch(q){f?
f=!1:g+=k,g+=String(e)}return a=0!==g.length||this._attributes._noslfcls?a+(">"+g+(this._attributes._nobrin?"":b)+"</"+this._ft_name+">"):a+"/>"};c.toString=function(){return this._ft_render_("")};c.createElement=function(){return q.createElement(this)};return c};c._ft_name=d;c.default_attributes=b;return c}var y,m,v,r,n,p,s,l,u;y=RegExp("([A-Z])","g");f.prototype.mix=function(a,b){var d=1-b;return k(Math.round(this._.r*b+a._.r*d),Math.round(this._.g*b+a._.g*d),Math.round(this._.b*b+a._.b*d),Math.round(this._.a*
b+a._.a*d))};f.prototype.add=function(a){return k(this._.r+a._.r,this._.g+a._.g,this._.b+a._.b,(this._.a+a._.a)/2)};f.prototype.sub=function(a){return k(this._.r-a._.r,this._.g-a._.g,this._.b-a._.b,(this._.a+a._.a)/2)};f.prototype.toString=function(){function a(a){return 16>a?"0"+a.toString(16):a.toString(16)}return 1<=this._.a?"#"+a(this._.r)+a(this._.g)+a(this._.b):"rgba("+this._.r+","+this._.g+","+this._.b+","+this._.a+")"};f.prototype.r=function(a){return arguments.length?k(a,this._.g,this._.b,
this._.a):this._.r};f.prototype.g=function(a){return arguments.length?k(this._.r,a,this._.b,this._.a):this._.g};f.prototype.b=function(a){return arguments.length?k(this._.r,this._.g,a,this._.a):this._.b};f.prototype.a=function(a){return arguments.length?k(this._.r,this._.g,this._.b,a):this._.a};m="";v=0;r="a";n={};p={};s=l=null;setTimeout(B,1E3);(function(){function a(){var a;null!==l&&(clearTimeout(l),l=null);null!==s&&(clearTimeout(s),s=null);for(a in p)x(a,!0)}t.addEventListener?t.addEventListener("unload",
a,!1):t.attachEvent("onunload",a)})();u=[];t.funcyTag=q;q._styles_not_injected=u;q.color=k;q.esc=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};q.createElement=function(a){var b=document.createElement("div");b.innerHTML=a.toString();return b.firstChild};q.debugTrackers=function(){var a,b,d;d="FuncyTag debug trackers\r\n\r\ngInitQueue items:\r\n";b=0;for(a in n)b++,d+=" "+a+"\r\n";d=d+("Total gInitQueue items: "+b+"\r\n")+"\r\n\r\ngElems items:\r\n";
b=0;for(a in p)b++,d+=" "+a+"\r\n";return d+="Total gElems items: "+b+"\r\n"}})(window);